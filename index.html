<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Linux CTF – Day 2</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body{background:#0b0e11;color:#e6e6e6;font-family:system-ui;margin:0;padding:2rem}
  h1{text-align:center;margin-bottom:.5rem}
  .progress-wrap{max-width:820px;margin:0 auto 1.5rem auto}
  .progress-label{font-size:.9rem;color:#9aa4ad;margin-bottom:.3rem;text-align:center}
  .progress{height:12px;background:#1f2a33;border-radius:6px;overflow:hidden}
  .progress-bar{height:100%;width:0%;background:#ffd166;transition:width .3s}
  .board{max-width:820px;margin:auto}
  .challenge{background:#11161c;border:1px solid #1f2a33;border-radius:8px;padding:1rem;margin-bottom:1rem}
  .challenge h2{margin:.2rem 0;color:#ffd166}
  .challenge p{color:#c9d1d9;font-size:.9rem}
  input{width:100%;padding:.5rem;background:#0b0e11;color:#fff;border:1px solid #333;border-radius:4px}
  button{margin-top:.5rem;background:#222;color:#fff;border:1px solid #444;padding:.4rem .8rem;border-radius:4px;cursor:pointer}
  .status{margin-top:.4rem;font-size:.85rem}
  .ok{color:#7CFF7C}
  .bad{color:#FF7C7C}
</style>
</head>
<body>

<h1>Linux CTF — Day 2</h1>

<div class="progress-wrap">
  <div class="progress-label">
    Progress: <span id="count">0</span> / 10
  </div>
  <div class="progress">
    <div class="progress-bar" id="bar"></div>
  </div>
</div>

<div class="board" id="board"></div>

<script>
const challenges = [
  ["Challenge 1","Investigate the data streams.","6bbdf9feaee9d3482a9d39d1e5da5a782327dcf67ca127604584f69f57b46d5d"],
  ["Challenge 2","Output matters. Where does it go?","6a091beee7ed4b7ad88adf2c4b10e75b80211c33a58f93e4554ff59f1be03933"],
  ["Challenge 3","Structured data hides secrets.","9e8ca7bf98a4250c242d1843e2d17f53b3b565e29ea802e465e2a1dfc64cc47c"],
  ["Challenge 4","Logs are noisy — order matters.","a695f437825a681f64fc44c6c2e38416c885109425c51ebbd7c23f0f2ebccbed"],
  ["Challenge 5","Archives may contain more than they appear.","5425d1cf483804a75188e652fc4a0eb3bccb8fbfd3d66f629b41b4b8e0b71b3c"],
  ["Challenge 6","Most answers repeat. One does not.","6047fc75798b73cb4f551115f47a0fae586e4f0b48e2a9d020ea0b6453c1671b"],
  ["Challenge 7","Find what others overlook.","ee94dc356c675d11b0cceedc8b5381bcb71e9563d033459d3d46eb996a6c45bd"],
  ["Challenge 8","Filter first. Decode later.","bec2f791e29a51e22c5bce279c8c25ca8f19bfe214d6b87854a1298fc6883dd1"],
  ["Challenge 9","Trust the fingerprint.","f6c2d42f1aed4529236781999a571e01e3e1393a276571ae6d96b83f233d30ed"],
  ["Final Challenge","Everything comes together.","1eee19c49502712d8349065e6575bdb0bb084c6eaf356980dc5ee81479c46c63"]
];

const solved = JSON.parse(localStorage.getItem("day2_solved")||"[]");

function updateProgress(){
  const c=solved.length;
  document.getElementById("count").textContent=c;
  document.getElementById("bar").style.width=(c/10*100)+"%";
}

async function sha256(t){
  const e=new TextEncoder().encode(t);
  const h=await crypto.subtle.digest("SHA-256",e);
  return Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

const board=document.getElementById("board");

challenges.forEach(([title,desc,hash],i)=>{
  const d=document.createElement("div");
  d.className="challenge";
  d.innerHTML=`
    <h2>${title}</h2>
    <p>${desc}</p>
    <input placeholder="FLAG{...}">
    <button>Submit</button>
    <div class="status"></div>
  `;
  const input=d.querySelector("input");
  const btn=d.querySelector("button");
  const status=d.querySelector(".status");

  if(solved.includes(i)){
    status.textContent="Completed";
    status.className="status ok";
  }

  btn.onclick=async()=>{
    const v=input.value.trim();
    if(!v)return;
    const h=await sha256(v);
    if(h===hash){
      status.textContent="Correct";
      status.className="status ok";
      if(!solved.includes(i)){
        solved.push(i);
        localStorage.setItem("day2_solved",JSON.stringify(solved));
        updateProgress();
      }
    }else{
      status.textContent="Incorrect";
      status.className="status bad";
    }
  };

  board.appendChild(d);
});

updateProgress();
</script>

</body>
</html>
